function t_initZoom(){$('[data-zoomable="yes"]').length&&(window.tzoominited=!0,$('[data-zoomable="yes"]:not(.t-slds__thumbs_gallery)').addClass("t-zoomable"),$("body").append('<div class="t-zoomer__wrapper">            <div class="t-zoomer__container">            </div>            <div class="t-zoomer__bg"></div>            <div class="t-zoomer__close">                <svg width="23" height="23" viewBox="0 0 23 23" fill="none" xmlns="http://www.w3.org/2000/svg">                    <path d="M1.41421 -0.000151038L0 1.41406L21.2132 22.6273L22.6274 21.2131L1.41421 -0.000151038Z" fill="black"/>                    <path d="M22.6291 1.41421L21.2148 0L0.00164068 21.2132L1.41585 22.6274L22.6291 1.41421Z" fill="black"/>                </svg>            </div>            </div>'),window.isMobile||$(".t-zoomer__wrapper").append('<div class="t-zoomer__scale showed">            <svg class="icon-increase" width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">                <path d="M22.832 22L17.8592 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/>                <path fill-rule="evenodd" clip-rule="evenodd" d="M4.58591 3.7511C0.917768 7.41924 0.917768 13.367 4.58591 17.0352C8.25405 20.7033 14.2019 20.7033 17.87 17.0352C21.5381 13.367 21.5381 7.41924 17.87 3.7511C14.2019 0.0829653 8.25405 0.0829653 4.58591 3.7511Z" stroke="black" stroke-width="2"/>                <path d="M6.25781 10.3931H16.2035" stroke="black" stroke-width="2"/>                <path d="M11.2305 15.3662V5.42053" stroke="black" stroke-width="2"/>            </svg>            <svg class="icon-decrease" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">                <path d="M21.9961 22L17.0233 17.0273" stroke="black" stroke-width="2" stroke-linecap="square"/>                <path fill-rule="evenodd" clip-rule="evenodd" d="M3.74997 3.7511C0.0818308 7.41924 0.0818308 13.367 3.74997 17.0352C7.41811 20.7033 13.3659 20.7033 17.0341 17.0352C20.7022 13.367 20.7022 7.41924 17.0341 3.7511C13.3659 0.0829653 7.41811 0.0829653 3.74997 3.7511Z" stroke="black" stroke-width="2"/>                <path d="M5.41797 10.3931H15.3637" stroke="black" stroke-width="2"/>            </svg>        </div>'),$(".t-records").on("click",".t-zoomable",t_zoomHandler),$(".t-records").on("click",".t-slds__thumbs_gallery",t_zoomHandler),$(".t-zoomer__close, .t-zoomer__bg").click(function(){t_zoom_close(),0!=$(document).find(".t-popup_show").length&&$(document).keydown(function(o){27==o.keyCode&&void 0!==window.t_store_closePopup&&t_store_closePopup(!1)})}))}function t_zoomHandler(){$("body").addClass("t-zoomer__show"),$(".t-zoomer__container").html('    <div class="t-carousel__zoomed">        <div class="t-carousel__zoomer__slides">        <div class="t-carousel__zoomer__inner">        </div>        <div class="t-carousel__zoomer__control t-carousel__zoomer__control_left" data-zoomer-slide="prev">            <div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_left">            <div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_left t-carousel__zoomer__arrow_small"></div>            </div>        </div>        <div class="t-carousel__zoomer__control t-carousel__zoomer__control_right" data-zoomer-slide="next">            <div class="t-carousel__zoomer__arrow__wrapper t-carousel__zoomer__arrow__wrapper_right">            <div class="t-carousel__zoomer__arrow t-carousel__zoomer__arrow_right t-carousel__zoomer__arrow_small"></div>            </div>        </div>        </div>    </div>');var o=$(this).closest(".r").attr("id"),e=$("#"+o).find(".t-zoomable:not(.t-slds__thumbs_gallery)");if($("#"+o).find(".t-slds").length){var t=$(this).closest(".t-slds");t.length&&(e=t.find(".t-zoomable:not(.t-slds__thumbs_gallery)"))}e.each(function(o,e){var t="",s="",i="",_="",a=$(e).attr("data-img-zoom-url").split(",");($(e).is("img")||$(e).is("div"))&&(t=$(e).attr("title")||"",s=$(e).attr("data-img-zoom-descr")||""),""!==t&&(i='<div class="t-zoomer__title t-name t-descr_xxs">'+t+"</div>"),""!==s&&(_='<div class="t-zoomer__descr t-descr t-descr_xxs">'+s+"</div>"),$(".t-carousel__zoomer__inner").append('        <div class="t-carousel__zoomer__item">        <div class="t-carousel__zoomer__wrapper">            <img class="t-carousel__zoomer__img" src="'+a+'"></div>            <div class="t-zoomer__comments">'+i+_+"</div>        </div>")}),$(".t-carousel__zoomer__item").each(function(o,e){$(e).css("display","block");var t=$(e).find(".t-zoomer__comments"),s=t.find(".t-zoomer__title"),i=t.find(".t-zoomer__descr");""===s&&""===i&&t.css("padding","0");var _=t.innerHeight();$(e).css("display",""),$(e).find(".t-carousel__zoomer__wrapper").css("bottom",_)});var s=$(this).attr("data-img-zoom-url"),i=$('.t-carousel__zoomer__img[src="'+s+'"]'),_=$(".t-carousel__zoomer__item");i.closest(_).addClass("active"),_.each(function(o,e){$(e).attr("data-zoomer-slide-number",o)});var a=parseInt($(".t-carousel__zoomer__item:visible").attr("data-zoomer-slide-number"),10);$(".t-carousel__zoomer__control_right").click(function(){t_zoom_unscale(),a=(a+1)%_.length,_.removeClass("active").eq(a).addClass("active"),t_zoom_checkForScale()}),$(".t-carousel__zoomer__control_left").click(function(){t_zoom_unscale(),a=(a-1)%_.length,_.removeClass("active").eq(a).addClass("active"),t_zoom_checkForScale()}),$(document).unbind("keydown"),$(document).keydown(function(o){37!=o.keyCode&&39!=o.keyCode&&27!=o.keyCode||(t_zoom_unscale(),a={37:a-1,39:a+1}[o.keyCode]%_.length,_.removeClass("active").eq(a).addClass("active"),t_zoom_checkForScale());27==o.keyCode&&(t_zoom_close(),$(document).find(".t-popup_show").length>0&&$(document).keydown(function(o){27==o.keyCode&&t_store_closePopup(!1)}))});var r=$(".t-carousel__zoomer__item").size();$("body").addClass("t-zoomer__show_fixed"),1==r&&$(".t-carousel__zoomer__control").css("display","none"),$(".t-carousel__zoomer__inner").click(function(){$(this).hasClass("scale-active")?t_zoom_unscale():t_zoom_close()}),t_zoom_checkForScale(),t_zoom_lockScroll(),t_zoom_initSwipe()}function t_zoom_initSwipe(){var o=$(".t-carousel__zoomer__item"),e=parseInt($(".t-carousel__zoomer__item:visible").attr("data-zoomer-slide-number"),10);o.length>1&&(hammer=new Hammer($(".t-zoomer__wrapper")[0],{domEvents:!0,inputClass:Hammer.TouchInput,recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_HORIZONTAL}]]}),hammer.on("panend",function(t){t.velocityX<-.4||t.deltaX<-50?(t_zoom_unscale(),e=(e+1)%o.length,o.removeClass("active").eq(e).addClass("active"),t_zoom_checkForScale()):(t.velocityX>.4||t.deltaX>50)&&(t_zoom_unscale(),e=(e-1)%o.length,o.removeClass("active").eq(e).addClass("active"),t_zoom_checkForScale())}))}function t_zoom_checkForScale(){var o=!1,e=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img:not(.loaded)");if(e.length&&(e.load(function(){if(!o)return $(window).width()<e[0].naturalWidth||$(window).height()<e[0].naturalHeight?(e.addClass("loaded"),void t_zoom_scale_init()):void 0}),e[0].complete&&!o)){if(o=!0,$(window).width()<e[0].naturalWidth)return void t_zoom_scale_init();if($(".t-zoomer__scale").css("display",""),$(window).height()<e[0].naturalHeight)return void t_zoom_scale_init();$(".t-zoomer__scale").css("display","")}}function t_zoom_scale_init(){$(".t-zoomer__scale").css("display","block"),"y"!==$(".t-zoomer__scale").attr("data-zoom-scale-init")&&($(".t-zoomer__scale").attr("data-zoom-scale-init","y"),$(".t-zoomer__wrapper").on("click",".t-zoomer__scale",function(o){var e=$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img"),t=$(".t-zoomer__wrapper"),s=$(".t-carousel__zoomer__inner");if(t.hasClass("scale-active"))t_zoom_unscale();else{t.addClass("scale-active"),s.addClass("scale-active");var i,_,a,r,l=($(window).width()-e.width())/2,c=($(window).height()-e.height())/2;e.css("left",l),e.css("top",c),$(window).width()<e[0].naturalWidth&&(a=100*o.clientX/$(window).width(),r=-a*(e.width()-$(window).width())/100,e.css("left",r+"px"),e.on(window.isMobile?"touchmove":"mousemove",function(o){a=100*(void 0!==o.originalEvent.touches?o.originalEvent.touches[0].clientX:o.clientX)/$(window).width(),r=-a*(e.width()-$(window).width())/100,e.css("left",r+"px")})),$(window).height()<e[0].naturalHeight&&(i=100*o.clientY/$(window).height(),_=-i*(e.height()-$(window).height())/100,e.css("top",_+"px"),e.on(window.isMobile?"touchmove":"mousemove",function(o){i=100*(void 0!==o.originalEvent.touches?o.originalEvent.touches[0].clientY:o.clientY)/$(window).height(),_=-i*(e.height()-$(window).height())/100,e.css("top",_+"px")}))}}))}function t_zoom_close(){t_zoom_unscale(),$("body").removeClass("t-zoomer__show t-zoomer__show_fixed"),$(document).unbind("keydown"),t_zoom_unlockScroll()}function t_zoom_unscale(){$(".t-zoomer__wrapper.scale-active, .t-carousel__zoomer__inner").removeClass("scale-active"),$(".t-carousel__zoomer__item.active .t-carousel__zoomer__img").off("mousemove touchmove").css("left","").css("top","")}function t_zoom_lockScroll(){if(window.isiOS&&!window.MSStream&&""!==window.isiOSVersion&&void 0!==window.isiOSVersion&&11===window.isiOSVersion[0]){var o=$("body");if(!o.hasClass("t-body_scroll-locked")){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;o.addClass("t-body_scroll-locked"),o.css("top","-"+e+"px"),o.attr("data-popup-scrolltop",e)}}}function t_zoom_unlockScroll(){if(window.isiOS&&!window.MSStream&&""!==window.isiOSVersion&&void 0!==window.isiOSVersion&&11===window.isiOSVersion[0]){var o=$("body");if(o.hasClass("t-body_scroll-locked")){var e=$("body").attr("data-popup-scrolltop");o.removeClass("t-body_scroll-locked"),o.css("top",""),o.removeAttr("data-popup-scrolltop"),window.scrollTo(0,e)}}}$(document).ready(function(){t_initZoom()});